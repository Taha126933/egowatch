<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„ÙØ§Ø®Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo',sans-serif;}
body{background:#111;color:#FFD700;}
header{background:#000;color:#FFD700;padding:15px 30px;display:flex;justify-content:space-between;align-items:center;}
header h1{font-size:24px;color:#FFD700;}
nav a{color:#FFD700;margin:0 10px;text-decoration:none;font-weight:bold;cursor:pointer;}
.user-name{margin-left:15px;font-weight:bold;color:#FFD700;}
.hero{background:url('https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&w=1600&q=80') center/cover;height:60vh;display:flex;justify-content:center;align-items:center;color:#FFD700;text-align:center;}
.hero h2{font-size:40px;background:rgba(0,0,0,0.7);padding:20px;border-radius:10px;}
.products{padding:30px 5%;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.card{background:#000;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(255,215,0,0.5);transition:0.3s;color:#FFD700;}
.card:hover{transform:scale(1.05);}
.card img{width:100%;height:200px;object-fit:cover;}
.card-content{padding:10px;text-align:center;}
.card-content h3{margin-bottom:10px;}
.price{color:#FFD700;font-weight:bold;margin-bottom:10px;}
button{background:#FFD700;color:#000;border:none;padding:8px 15px;cursor:pointer;border-radius:5px;transition:0.3s;font-weight:bold;}
button:hover{background:#fff;color:#000;}
footer{background:#000;color:#FFD700;text-align:center;padding:15px;margin-top:30px;}
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.9);}
.modal-content{background:#000;margin:10% auto;padding:20px;border-radius:10px;width:300px;position:relative;color:#FFD700;}
.modal-content h2{text-align:center;margin-bottom:20px;}
.close{position:absolute;top:10px;right:15px;font-size:20px;font-weight:bold;cursor:pointer;color:#FFD700;}
input, textarea{width:100%;padding:8px;margin:5px 0;border:1px solid #FFD700;border-radius:5px;background:#111;color:#FFD700;}
.cart{position:fixed;top:70px;left:10px;background:#000;padding:15px;border-radius:10px;box-shadow:0 5px 15px rgba(255,215,0,0.5);width:300px;display:none;z-index:999;color:#FFD700;}
.cart h3{text-align:center;margin-bottom:10px;}
.cart-item{display:flex;justify-content:space-between;margin:5px 0;}
.cart-total{text-align:center;margin-top:10px;font-weight:bold;}
.cart button{width:100%;margin-top:10px;}
.orders-section{padding:30px 5%;display:none;}
.order-card{background:#000;border-radius:10px;padding:15px;box-shadow:0 5px 15px rgba(255,215,0,0.5);margin-bottom:15px;color:#FFD700;}
.order-card h4{margin-bottom:10px;color:#FFD700;}
</style>
</head>
<body>

<header>
<h1>âŒš Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„ÙØ§Ø®Ø±</h1>
<div>
<span class="user-name" id="user-display"></span>
<nav>
<a onclick="openCart()">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ğŸ›’</a>
<a id="login-btn" onclick="openModal('login')">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</a>
<a id="register-btn" onclick="openModal('register')">ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨</a>
<a id="logout-btn" onclick="logout()" style="display:none;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
<a id="my-orders-btn" onclick="showOrders()" style="display:none;">Ø·Ù„Ø¨Ø§ØªÙŠ</a>
</nav>
</div>
</header>

<section class="hero">
<h2>Ø£ÙØ®Ù… Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</h2>
</section>

<section class="products" id="products"></section>

<section class="orders-section" id="orders-section">
<h2>Ø·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h2>
<div id="orders-list"></div>
</section>

<!-- Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª -->
<div class="cart" id="cart">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<div id="cart-items"></div>
<div class="cart-total" id="cart-total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 MAD</div>
<button onclick="checkout()">Ø§Ù„Ø¯ÙØ¹</button>
<button onclick="closeCart()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ -->
<div class="modal" id="modal">
<div class="modal-content">
<span class="close" onclick="closeModal()">&times;</span>
<h2 id="modal-title">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</h2>
<div id="modal-body">
<input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
<input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
<button onclick="submitForm()">ØªØ£ÙƒÙŠØ¯</button>
</div>
</div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ† -->
<div class="modal" id="customer-modal">
<div class="modal-content">
<span class="close" onclick="closeCustomerModal()">&times;</span>
<h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†</h2>
<div>
<input type="text" id="customer-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
<input type="text" id="customer-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input type="text" id="customer-address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
<button onclick="submitCustomer()">Ø§Ù„Ø¯ÙØ¹</button>
</div>
</div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
<div class="modal" id="payment-modal">
  <div class="modal-content">
    <span class="close" onclick="closePaymentModal()">&times;</span>
    <h2>Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h2>
    <input type="text" id="card-name" placeholder="Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©">
    <input type="text" id="card-number" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©">
    <input type="text" id="card-expiry" placeholder="MM/YY ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡">
    <input type="text" id="card-cvv" placeholder="CVV">
    <button onclick="submitPayment()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
  </div>
</div>

<script>
const exchangeRate = 10;
const products = [
{ id:1, name:"Rolex Submariner", price:12000, img:"https://images.unsplash.com/photo-1600180758894-ef3468d3cddc?auto=format&fit=crop&w=800&q=80" },
{ id:2, name:"Omega Speedmaster", price:8500, img:"https://images.unsplash.com/photo-1601121143200-f0b4cf5e3a91?auto=format&w=800&q=80" },
{ id:3, name:"Tag Heuer Carrera", price:5200, img:"https://images.unsplash.com/photo-1561758033-5b7d9a8b2f3b?auto=format&w=800&q=80" },
{ id:4, name:"Hublot Classic Fusion", price:9800, img:"https://images.unsplash.com/photo-1580042709260-1974318272bb?auto=format&w=800&q=80" },
{ id:5, name:"Patek Philippe Nautilus", price:35000, img:"https://images.unsplash.com/photo-1602211659142-cb1e1a2eb7c1?auto=format&w=800&q=80" },
{ id:6, name:"Casio G-Shock", price:350, img:"https://images.unsplash.com/photo-1601385354303-22033d90c5a7?auto=format&w=800&q=80" }
];

const productsContainer = document.getElementById('products');
products.forEach(p=>{
productsContainer.innerHTML += `
<div class="card">
<img src="${p.img}">
<div class="card-content">
<h3>${p.name}</h3>
<div class="price">${p.price*exchangeRate} MAD</div>
<button onclick="addToCart(${p.id})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
</div>
</div>`;
});

// Ø³Ù„Ø© Ù…Ø´ØªØ±ÙŠØ§Øª
let cart = JSON.parse(localStorage.getItem('cart')) || [];
updateCart();
let currentUser = localStorage.getItem('currentUser') || '';
updateUserDisplay();

function addToCart(id){
const product = products.find(p=>p.id===id);
const item = cart.find(i=>i.id===id);
if(item){ item.qty++; } else { cart.push({...product, qty:1}); }
updateCart();
openCart();
}

function updateCart(){
const cartItems = document.getElementById('cart-items');
cartItems.innerHTML = '';
let total = 0;
cart.forEach(i=>{
total += i.price*i.qty;
cartItems.innerHTML += `<div class="cart-item">${i.name} x${i.qty} - ${i.price*i.qty*exchangeRate} MAD</div>`;
});
document.getElementById('cart-total').innerText = 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ' + total*exchangeRate + ' MAD';
localStorage.setItem('cart', JSON.stringify(cart));
}

function openCart(){ document.getElementById('cart').style.display='block'; }
function closeCart(){ document.getElementById('cart').style.display='none'; }

function checkout(){ 
if(cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
closeCart();
openCustomerModal();
}

// ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ / Ø¯Ø®ÙˆÙ„
let currentModal = '';
function openModal(type){
currentModal = type;
document.getElementById('modal').style.display='block';
document.getElementById('modal-title').innerText = type==='login' ? 'ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„' : 'ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨';
document.getElementById('username').value='';
document.getElementById('password').value='';
}
function closeModal(){ document.getElementById('modal').style.display='none'; }

function submitForm(){
const user = document.getElementById('username').value.trim();
const pass = document.getElementById('password').value.trim();
if(!user || !pass){ alert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„'); return; }

let users = JSON.parse(localStorage.getItem('users')) || [];
if(currentModal==='register'){
if(users.some(u=>u.username===user)){ alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„'); return; }
users.push({username:user,password:pass});
localStorage.setItem('users', JSON.stringify(users));
currentUser = user;
localStorage.setItem('currentUser', currentUser);
updateUserDisplay();
alert(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ${user} Ø¨Ù†Ø¬Ø§Ø­!`);
closeModal();
}else{
const existing = users.find(u=>u.username===user && u.password===pass);
if(existing){ 
currentUser = user;
localStorage.setItem('currentUser', currentUser);
updateUserDisplay();
alert(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user}`);
closeModal(); 
} else{ alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©'); }
}
}

function updateUserDisplay(){
document.getElementById('user-display').innerText = currentUser ? 'Ù…Ø±Ø­Ø¨Ø§ØŒ '+currentUser : '';
document.getElementById('login-btn').style.display = currentUser ? 'none' : 'inline';
document.getElementById('register-btn').style.display = currentUser ? 'none' : 'inline';
document.getElementById('logout-btn').style.display = currentUser ? 'inline' : 'none';
document.getElementById('my-orders-btn').style.display = currentUser ? 'inline' : 'none';
}

function logout(){
currentUser='';
localStorage.removeItem('currentUser');
updateUserDisplay();
alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');
}

// Ù…ÙˆØ¯Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†
function openCustomerModal(){ document.getElementById('customer-modal').style.display='block'; }
function closeCustomerModal(){ document.getElementById('customer-modal').style.display='none'; }

function submitCustomer(){
const name = document.getElementById('customer-name').value.trim();
const phone = document.getElementById('customer-phone').value.trim();
const address = document.getElementById('customer-address').value.trim();
if(!name || !phone || !address){ alert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„'); return; }
// ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹
window.tempOrder = {user:currentUser, customer:{name,phone,address}, cart:[...cart]};
closeCustomerModal();
openPaymentModal();
}

// Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
function openPaymentModal(){ document.getElementById('payment-modal').style.display='block'; }
function closePaymentModal(){ document.getElementById('payment-modal').style.display='none'; }

function submitPayment(){
const cname = document.getElementById('card-name').value.trim();
const cnumber = document.getElementById('card-number').value.trim();
const cexp = document.getElementById('card-expiry').value.trim();
const cvv = document.getElementById('card-cvv').value.trim();
if(!cname || !cnumber || !cexp || !cvv){ alert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¯ÙØ¹'); return; }

let orders = JSON.parse(localStorage.getItem('orders')) || [];
orders.push(window.tempOrder);
localStorage.setItem('orders', JSON.stringify(orders));
window.tempOrder = null;

alert('ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³ÙˆÙ‚Ùƒ.');
cart=[];
updateCart();
closePaymentModal();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
function showOrders(){
document.getElementById('orders-section').style.display='block';
document.getElementById('products').scrollIntoView({behavior:"smooth"});
const ordersList = document.getElementById('orders-list');
ordersList.innerHTML = '';
const orders = JSON.parse(localStorage.getItem('orders')) || [];
const userOrders = orders.filter(o=>o.user===currentUser);
if(userOrders.length===0){ ordersList.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>'; return; }
userOrders.forEach((o,i)=>{
let orderHTML = `<div class="order-card"><h4>Ø·Ù„Ø¨ Ø±Ù‚Ù… ${i+1}</h4>`;
orderHTML += `<strong>Ø§Ù„Ø²Ø¨ÙˆÙ†:</strong> ${o.customer.name}<br>`;
orderHTML += `<strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${o.customer.phone}<br>`;
orderHTML += `<strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${o.customer.address}<br>`;
orderHTML += `<strong>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</strong><ul>`;
o.cart.forEach(p=>{ orderHTML += `<li>${p.name} x${p.qty} - ${p.price*p.qty*exchangeRate} MAD</li>`; });
orderHTML += `</ul></div>`;
ordersList.innerHTML += orderHTML;
});
}
</script>
<footer>
Â© 2026 Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø§Ø¹Ø§Øª - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
</footer>
</body>
</html>